(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/fU1":function(e,n,t){},"59Bn":function(e,n,t){},"5R3D":function(e,n,t){},HeKR:function(e,n,t){},NWZB:function(e,n,t){},QfWi:function(e,n,t){"use strict";t.r(n);var i=t("KDl+");t("VwVG"),t("ELjB"),t("tp5i");i.initializeApp({apiKey:"AIzaSyDzQMWiK007Moog_T8BSEeZDjtYwQwb1tE",authDomain:"alexcode-book-of-recipes.firebaseapp.com",databaseURL:"https://alexcode-book-of-recipes.firebaseio.com",projectId:"alexcode-book-of-recipes",storageBucket:"alexcode-book-of-recipes.appspot.com",messagingSenderId:"949923603478",appId:"1:949923603478:web:19746653ff9266c606c137",measurementId:"G-Q6J9WYJKP6"});var a=i.auth(),o=i.firestore(),r=i.functions(),u=t("EH7z"),l=t.n(u),d=(t("RtS0"),t("3dw1"),t("bOQ6")),c=t.n(d),s=(t("5R3D"),function(){function e(){}var n=e.prototype;return n.init=function(e){this.addToScreen(e,"beforeend",this.renderNavbar())},n.addToScreen=function(e,n,t){e.insertAdjacentHTML(n,t)},n.renderNavbar=function(){return'\n      <nav class="z-depth-0 grey lighten-4">\n        <div class="nav-wrapper container">\n          <a href="#" class="brand-logo">\n            <img src="'+c.a+'">\n          </a>\n          <ul id="nav-mobile" class="right hide-on-med-and-down">\n            <li class="logged-in" style="display: none;">\n              <a href="#" class="grey-text modal-trigger" data-target="modal-account">Account</a>\n            </li>\n            <li class="logged-in" style="display: none;">\n              <a href="#" class="grey-text" id="logout">Logout</a>\n            </li>\n            <li class="admin" style="display: none;">\n              <a href="#" class="grey-text modal-trigger" data-target="modal-create">Create Recipes</a>\n            </li>\n            <li class="logged-out" style="display: none;">\n              <a href="#" class="grey-text modal-trigger" data-target="modal-login">Login</a>\n            </li>\n            <li class="logged-out" style="display: none;">\n              <a href="#" class="grey-text modal-trigger" data-target="modal-signup">Sign up</a>\n            </li>\n          </ul>\n        </div>\n      </nav>'},n.setupNavbarUI=function(e){var n=document.querySelectorAll(".logged-in"),t=document.querySelectorAll(".logged-out"),i=document.querySelector(".account-details"),a=document.querySelectorAll(".admin");e?(e.admin&&a.forEach((function(e){return e.style.display="block"})),o.collection("users").doc(e.uid).get().then((function(n){var t="\n          <p>Logged in as <strong>"+e.email+"</strong></p>\n          <p>"+n.data().bio+'</p>\n          <p class="pink-text">'+(e.admin?"Admin":"")+"</p>\n          ";i.innerHTML=t})),n.forEach((function(e){return e.style.display="block"})),t.forEach((function(e){return e.style.display="none"}))):(a.forEach((function(e){return e.style.display="none"})),i.innerHTML="",n.forEach((function(e){return e.style.display="none"})),t.forEach((function(e){return e.style.display="block"})))},e}()),M=(t("iPZ8"),t("kypl"),t("/fU1"),function(){function e(){}var n=e.prototype;return n.init=function(e){this.addToScreen(e,"beforeend",this.renderRecipesList()),this.initCollapsible()},n.addToScreen=function(e,n,t){e.insertAdjacentHTML(n,t)},n.renderRecipesList=function(){return'\n    <div class="container" style="margin-top: 40px;">\n      <ul class="collapsible popout z-depth-0 recipes" style="border: none;">\n      </ul>\n    </div>'},n.setupRecipeItem=function(e){var n=document.querySelector(".recipes");if(e.length){var t="";e.forEach((function(e){var n=e.data(),i=n.title,a=n.ingredients,o=n.description,r=n.image;t+='\n        <li>\n          <div class="collapsible-header grey lighten-4">\n            <h6>'+i+'</h6>\n          </div>\n          <div class="collapsible-body white">\n            <img src="'+r+'" class="recipe__image">\n          </div>\n          <div class="collapsible-body white">\n            <strong>Ingredients</strong>\n            <p>'+a+'</p>\n          </div>\n          <div class="collapsible-body white">\n            <span>'+o+"</span>\n          </div>\n        </li>"})),n.innerHTML=t}else n.innerHTML='<h5 class="center-align">Login to view recipes</h5>'},n.initCollapsible=function(){document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".collapsible");l.a.Collapsible.init(e)}))},e}()),g=(t("HeKR"),function(){function e(){}var n=e.prototype;return n.init=function(e){this.addToScreen(e,"beforeend",this.renderModals()),this.initModals()},n.initModals=function(){document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".modal");l.a.Modal.init(e,{dismissible:!0})}))},n.addToScreen=function(e,n,t){e.insertAdjacentHTML(n,t)},n.renderModals=function(){return"\n      "+this.renderAccountModal()+"\n      "+this.renderCreateRecipeModal()+"\n      "+this.renderLoginModal()+"\n      "+this.renderSignUpModal()},n.renderSignUpModal=function(){return'\n      <div id="modal-signup" class="modal">\n        <div class="modal-content">\n          <h4>Sign up</h4><br />\n          <form id="signup-form">\n            <div class="input-field">\n              <input type="email" id="signup-email" required />\n              <label for="signup-email">Email address</label>\n            </div>\n            <div class="input-field">\n              <input type="password" id="signup-password" required />\n              <label for="signup-password">Choose password</label>\n            </div>\n            <div class="input-field">\n              <input type="text" id="signup-bio" required />\n              <label for="signup-bio">One Line Bio</label>\n            </div>\n            <button class="btn red darken-1 z-depth-0">Sign up</button>\n            <p class="error pink-text center-align"></p>\n          </form>\n        </div>\n      </div>'},n.renderLoginModal=function(){return'\n      <div id="modal-login" class="modal">\n        <div class="modal-content">\n          <h4>Login</h4><br />\n          <form id="login-form">\n            <div class="input-field">\n              <input type="email" id="login-email" required />\n              <label for="login-email">Email address</label>\n            </div>\n            <div class="input-field">\n              <input type="password" id="login-password" required />\n              <label for="login-password">Your password</label>\n            </div>\n            <button class="btn red darken-1 z-depth-0">Login</button>\n            <p class="error pink-text center-align"></p>\n          </form>\n        </div>\n      </div>'},n.renderCreateRecipeModal=function(){return'\n      <div id="modal-create" class="modal">\n        <div class="modal-content">\n          <h4>Create Recipe</h4><br />\n          <form id="create-form">\n            <div class="input-field">\n              <input type="text" id="title" required>\n              <label for="title">Recipe Title</label>\n            </div>\n            <div class="input-field">\n              <input type="text" id="image" required>\n              <label for="image">Recipe Image Link</label>\n            </div>\n            <div class="input-field">\n              <textarea id="ingredients" class="materialize-textarea" required></textarea>\n              <label for="ingredients">Recipe Ingredients</label>\n            </div>\n            <div class="input-field">\n              <textarea id="content" class="materialize-textarea" required></textarea>\n              <label for="content">Recipe Description</label>\n            </div>\n            <button class="btn red darken-1 z-depth-0">Create</button>\n          </form>\n        </div>\n      </div>'},n.renderAccountModal=function(){return'\n      <div id="modal-account" class="modal">\n        <div class="modal-content center-align">\n          <h4>Account details</h4><br />\n          <div class="account-details"></div>\n        </div>\n      </div>'},e}()),L=(t("NWZB"),function(){function e(){}var n=e.prototype;return n.init=function(e){this.addToScreen(e,"beforeend",this.renderAdminForm())},n.addToScreen=function(e,n,t){e.insertAdjacentHTML(n,t)},n.renderAdminForm=function(){return'\n    <form class="center-align admin-actions admin" style="display: none;">\n      <div class="input-field">\n        <input  type="email" id="admin-email" placeholder="User email" required />\n      </div>\n      <button class="btn-small red darken-1 z-depth-0">Make admin</button>\n    </form>'},e}());t("59Bn");t.d(n,"setupRecipeItem",(function(){return f})),t.d(n,"setupNavbarUI",(function(){return D}));var p=document.querySelector("#root"),y=new s,N=new M,I=new g,j=new L;y.init(p),j.init(p),N.init(p),I.init(p);var S,m,T,f=N.setupRecipeItem,D=y.setupNavbarUI;a.onAuthStateChanged((function(e){e?(e.getIdTokenResult().then((function(n){e.admin=n.claims.admin,D(e)})),o.collection("recipes").onSnapshot((function(e){f(e.docs)}),(function(e){console.log(e.message)}))):(f([]),D())})),(S=document.querySelector("#signup-form")).addEventListener("submit",(function(e){e.preventDefault();var n=S["signup-email"].value,t=S["signup-password"].value;a.createUserWithEmailAndPassword(n,t).then((function(e){return o.collection("users").doc(e.user.uid).set({bio:S["signup-bio"].value})})).then((function(){var e=document.querySelector("#modal-signup");l.a.Modal.getInstance(e).close(),S.reset(),S.querySelector(".error").textContent=""})).catch((function(e){S.querySelector(".error").textContent=e.message}))})),document.querySelector("#logout").addEventListener("click",(function(e){e.preventDefault(),a.signOut()})),(m=document.querySelector("#login-form")).addEventListener("submit",(function(e){e.preventDefault();var n=m["login-email"].value,t=m["login-password"].value;a.signInWithEmailAndPassword(n,t).then((function(e){var n=document.querySelector("#modal-login");l.a.Modal.getInstance(n).close(),m.reset(),m.querySelector(".error").textContent=""})).catch((function(e){m.querySelector(".error").textContent=e.message}))})),(T=document.querySelector("#create-form")).addEventListener("submit",(function(e){e.preventDefault(),o.collection("recipes").add({title:T.title.value,image:T.image.value,ingredients:T.ingredients.value,description:T.content.value}).then((function(){var e=document.querySelector("#modal-create");l.a.Modal.getInstance(e).close(),T.reset()})).catch((function(e){l.a.toast({html:e.message})}))})),document.querySelector(".admin-actions").addEventListener("submit",(function(e){e.preventDefault();var n=document.querySelector("#admin-email").value;r.httpsCallable("addAdminRole")({email:n}).then((function(e){return console.log(e)}))}))},bOQ6:function(e,n){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTU3LjUgMjEyLjgiIHdpZHRoPSIyNTAwIiBoZWlnaHQ9Ijk1NCI+PHN0eWxlPi5zdDB7ZmlsbDojZjE1YjJifS5zdDF7ZmlsbDojOTUxYTFkfTwvc3R5bGU+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI1MC4zIDEwMC44SDI4MnY4NC43aC0zMS43eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0wIDIuM2gzMS44djEzLjNDMzcuMiA3LjMgNDcuNSAwIDYyLjYgMGMxMy4xIDAgMjEuNyA0LjggMjYuMiAxNCA4LjYtOS44IDIwLTE0IDMyLjEtMTQgMTguNyAwIDMxLjggMTAuOCAzMS44IDMxLjl2NTcuM2gtMzIuMXYtNTRjMC03LjYtNy4yLTEyLjEtMTMuOS0xMi4xLTguMiAwLTE0LjUgNi0xNC41IDE0LjN2NTEuOGgtMzJ2LTU0YzAtNy42LTcuMy0xMi4xLTEzLjctMTIuMS04LjQgMC0xNC43IDYtMTQuNyAxNC4zdjUxLjhIMFYyLjN6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTAgOTkuOWgzMS45VjExN2M1LjMtMTMuMSAxNC42LTE4LjUgMjcuMi0xOC4zdjI5LjhjLTE3LjctMS0yNy4yIDQuOS0yNy4yIDE3djM5SDBWOTkuOXpNOTMuNSAxMzIuNmMxLjMtOS42IDYuOC0xNC42IDE0LjYtMTQuNiA4LjYgMCAxMyA1LjUgMTMuMyAxNC42SDkzLjV6bS0uMSAxNi43aDU4Ljh2LTcuOGMwLTMwLjUtMjAuMy00NC4xLTQ0LjEtNDQuMS0yNS45IDAtNDcgMTctNDcgNDQuNnYxLjNjMCAyOCAxOS45IDQzLjQgNDcgNDMuNCAyNi4yIDAgNDAuOS0xMC44IDQ0LTI5LjRoLTI5LjljLTEuMyA0LjItNC45IDcuNy0xMi45IDcuNy05LjEgMC0xNS4xLTUuNS0xNS45LTE1LjdNMTU2IDE0My41di0xLjNjMC0yOC44IDIwLjQtNDQuNSA0NS45LTQ0LjUgMjEuMiAwIDQwLjggOS4xIDQyLjQgMzUuNmgtMzBjLTEtNi44LTMuOS0xMS4yLTExLjctMTEuMi05LjQgMC0xNC4zIDYuNS0xNC4zIDE5LjR2MS4zYzAgMTMuOCA0LjUgMjAuNyAxNC43IDIwLjcgNy4zIDAgMTIuMi00LjUgMTMtMTIuOGgyOC43Yy0uOCAyMS45LTE1LjIgMzYtNDMuNyAzNi0yNS40IDAtNDUtMTQuNC00NS00My4yTTM1MC4zIDE0Mi42di0xLjNjMC0xMy42LTUuNS0yMC4xLTE1LjEtMjAuMS05LjQgMC0xNC43IDcuMS0xNC43IDIwLjF2MS4zYzAgMTMuMSA1LjIgMTkuOCAxNC45IDE5LjggOS42IDAgMTQuOS02LjggMTQuOS0xOS44bS02MC45LTQyLjdoMzEuOXYxMi4zYzQuNy03LjkgMTMuMS0xNC42IDI1LjktMTQuNiAxOS4zIDAgMzUuNSAxNC40IDM1LjUgNDQuMXYxLjNjMCAyOS42LTE2LjQgNDMuNy0zNS42IDQzLjctMTIuNSAwLTIxLjUtNi0yNS44LTE0LjN2NDAuM2gtMzEuOVY5OS45ek00MTcuNCAxMzIuNmMxLjMtOS42IDYuOC0xNC42IDE0LjYtMTQuNiA4LjYgMCAxMyA1LjUgMTMuMyAxNC42aC0yNy45em0tLjIgMTYuN0g0NzZ2LTcuOGMwLTMwLjUtMjAuMy00NC4xLTQ0LjEtNDQuMS0yNS45IDAtNDcgMTctNDcgNDQuNnYxLjNjMCAyOCAxOS45IDQzLjQgNDcgNDMuNCAyNi4yIDAgNDAuOC0xMC44IDQ0LTI5LjNINDQ2Yy0xLjQgNC4yLTQuOSA3LjYtMTIuOSA3LjYtOS4xIDAtMTUuMS01LjUtMTUuOS0xNS43TTQ3Ny44IDE1Ny40SDUwN2MxIDUuNSAzLjIgOC44IDEwLjUgOC44IDYuMiAwIDguOS0yLjQgOC45LTYgMC0zLjctMy42LTUuNy0xNC45LTcuMS0yMi44LTIuNi0zMi45LTguOC0zMi45LTI2LjkgMC0xOS40IDE3LTI4LjcgMzcuOC0yOC43IDIyIDAgMzYuOCA3LjMgMzguNyAyOGgtMjguN2MtMS01LTMuNy03LjktOS42LTcuOS01LjggMC04LjQgMi42LTguNCA1LjggMCAzLjkgMy45IDUuNSAxMy4zIDYuNSAyNC41IDIuOSAzNS44IDguOCAzNS44IDI3LjEgMCAyMC45LTE1LjkgMjkuOC0zOS45IDI5LjgtMjQuNy0uMS0zOS4zLTEwLjMtMzkuOC0yOS40Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE4My4zIDU3LjZMMTQ3LjcuNkgxODRsMTcgMzAuOUwyMTQuOC42aDMzLjZsLTQ2LjMgODguMWgtMzQuNHoiLz48Zz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjQ3LjQgODcuMWMxMy40IDEwLjEgMzIuNSA3LjQgNDIuNi02IDYtOCA3LjUtMTggNC45LTI2LjktMi4yIDIuMi01LjggMi41LTguMy41LS4yLS4xLS4zLS4zLS41LS41LTIgMS4zLTQuNyAxLjItNi44LS4zLTEuNC0xLTIuMi0yLjUtMi40LTQuMS0xLS4xLTItLjUtMi45LTEuMS0yLjMtMS43LTMuMS00LjktMS45LTcuNC0yLjItMi4yLTIuNC01LjYtLjUtOC4xbC4zLS4zYy0xMS4yLTIuMy0yMy4yIDEuNy0zMC41IDExLjUtMTAuMSAxMy40LTcuNCAzMi41IDYgNDIuNyIvPjwvZz48L3N2Zz4="}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.ef543cd318294cbc0801.js.map